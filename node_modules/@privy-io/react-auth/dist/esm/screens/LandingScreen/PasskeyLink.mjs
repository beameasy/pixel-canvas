import{jsxs as o,jsx as n}from"react/jsx-runtime";import{ModalScreen as t}from"../index.mjs";import i from"@heroicons/react/24/outline/FingerPrintIcon";import{useMemo as s}from"react";import{styled as e,css as r}from"styled-components";import{useCaptcha as c}from"../../hooks/captcha-context.mjs";import{usePrivyInternal as m}from"../../hooks/internal-context.mjs";import{usePrivyModal as a}from"../../hooks/modal-context.mjs";import{LoginMethodButton as p}from"./styles.mjs";import"../../hooks/index.mjs";import"../../errors.mjs";import"ofetch";import"../../utils/index.mjs";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../utils/eth/getPublicClient.mjs";import"viem";import"../../components/PrefetchedImage.mjs";import"../../configuration/context.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";const l=()=>{let{enabled:e,token:r}=c(),{navigate:l,setModalData:h,app:d,data:g}=a(),{initLoginWithPasskey:u}=m(),f=()=>{d.loginConfig.passkeysForSignupEnabled?l(t.SELECT_PASSKEY_SIGNUP_OR_LOGIN):(async()=>{e&&!r?(h({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>u({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:t.AWAITING_PASSKEY_SYSTEM_DIALOGUE,onErrorNavigateTo:t.ERROR_SCREEN}}),l(t.CAPTCHA_SCREEN)):(await u({withPrivyUi:!0}),h({passkeyAuthModalData:{passkeySignupFlow:!1}}),l(t.AWAITING_PASSKEY_SYSTEM_DIALOGUE))})()};return 0===s((()=>{let o=g?.login?.loginMethods;return o?o.length:Object.entries(d.loginMethods).filter((([o,n])=>n)).filter((([o])=>"passkey"!==o)).length}),[d.loginMethods,g?.login])?/*#__PURE__*/o(p,{onClick:f,children:[/*#__PURE__*/n(i,{})," Continue with passkey"]}):/*#__PURE__*/n(j,{onClick:f,children:"I have a passkey"})};let h=/*#__PURE__*/r(["&&{width:100%;font-size:0.875rem;line-height:1rem;display:flex;gap:0.5rem;justify-content:center;align-items:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const j=/*#__PURE__*/e.button.withConfig({displayName:"StyledLink",componentId:"sc-eb12d148-0"})(["",""],h);export{l as PasskeyLink,j as StyledLink};

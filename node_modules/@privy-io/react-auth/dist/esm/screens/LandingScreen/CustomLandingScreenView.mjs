import{jsxs as o,Fragment as t,jsx as e}from"react/jsx-runtime";import i from"@heroicons/react/24/outline/UserCircleIcon";import{useState as r,useEffect as s}from"react";import{styled as m}from"styled-components";import{TermsAndConditions as n,BlobbyFooter as p}from"../../components/ModalFooter.mjs";import{ModalHeader as l}from"../../components/ModalHeader.mjs";import{useAppConfig as a}from"../../configuration/context.mjs";import{usePrivyInternal as c}from"../../hooks/internal-context.mjs";import{usePrivyModal as j}from"../../hooks/modal-context.mjs";import{toDisplayFromAccountType as d}from"../../lib/toDisplayFromAccountType.mjs";import{useRecentlyUsedLogin as h}from"../../recent-login/context.mjs";import{splitAtIndex as g}from"../../utils/index.mjs";import{AppLogoHeader as f}from"./AppLogoHeader.mjs";import{CrossAppButton as u}from"./CrossAppButton.mjs";import{EmailButton as v}from"./EmailButton.mjs";import{FarcasterButton as y}from"./FarcasterButton.mjs";import{decideWhichForm as b}from"./LandingScreenView.mjs";import{PasskeyLink as w}from"./PasskeyLink.mjs";import{SmsButton as k}from"./SmsButton.mjs";import{SocialButton as x}from"./SocialButton.mjs";import{TelegramButton as C}from"./TelegramButton.mjs";import{toWalletButtons as A}from"./WalletButtonList.mjs";import{Web2OverflowButton as M}from"./Web2OverflowButton.mjs";import{Subtitle as I,AlignBottom as T,LoginMethodContainerWithScrollShadows as E}from"./styles.mjs";import"../../svg/protected-by-privy.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"@heroicons/react/24/outline/ArrowLeftIcon";import"@heroicons/react/24/outline/ArrowRightIcon";import"@heroicons/react/24/outline/QuestionMarkCircleIcon";import"@heroicons/react/24/outline/XMarkIcon";import"../../hooks/index.mjs";import"../../components/PrefetchedImage.mjs";import"../index.mjs";import"../../hooks/events-context.mjs";import"../../storage.mjs";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../errors.mjs";import"ofetch";import"../../utils/eth/getPublicClient.mjs";import"viem";import"../../components/AppLogo.mjs";import"../../components/Loader.mjs";import"../../components/ProviderAppLogo.mjs";import"../../hooks/privy-context.mjs";import"@heroicons/react/24/outline/EnvelopeIcon";import"../../components/ConnectEmailForm.mjs";import"../../hooks/captcha-context.mjs";import"../../components/Button.mjs";import"../../components/ui/chips/Chip.mjs";import"../../components/ui/animation/LoadingSkeleton.mjs";import"../../components/ui/forms/EmailInputForm.mjs";import"../../components/ui/typography/ErrorMessage.mjs";import"../../svg/farcaster.mjs";import"@heroicons/react/24/outline/PhoneIcon";import"@privy-io/js-sdk-core";import"../../svg/email-or-phone.mjs";import"./EmptyWalletView.mjs";import"./WalletOverflowButton.mjs";import"@heroicons/react/24/outline/ChevronRightIcon";import"@heroicons/react/24/outline/WalletIcon";import"@heroicons/react/24/outline/FingerPrintIcon";import"../../components/ConnectPhoneForm.mjs";import"../../components/PhoneCountryDropdown.mjs";import"../../svg/apple.mjs";import"../../svg/discord.mjs";import"../../svg/github.mjs";import"../../svg/google.mjs";import"../../svg/instagram.mjs";import"../../svg/linkedin.mjs";import"../../svg/spotify.mjs";import"../../svg/tiktok.mjs";import"../../svg/twitter.mjs";import"../../svg/telegram.mjs";import"./WalletButton.mjs";import"react-device-detect";import"../../components/external-wallets/InjectedWalletIcon.mjs";import"../../connectors/mobile-wallets.mjs";import"../../svg/backpack.mjs";import"../../svg/okx-wallet.mjs";import"../../svg/phantom.mjs";import"../../svg/solflare.mjs";import"../../types.mjs";import"../../lib/external-wallets/displayHelpers.mjs";import"../../svg/brave-browser-icon.mjs";import"../../svg/bybit.mjs";import"../../svg/coinbase-wallet.mjs";import"../../svg/cryptocom.mjs";import"../../svg/metamask.mjs";import"../../svg/rabby.mjs";import"../../svg/rainbow.mjs";import"../../svg/safe.mjs";import"../../svg/uniswap.mjs";import"../../svg/universal-profile.mjs";import"../../svg/wallet-connect.mjs";import"../../svg/zerion.mjs";import"../../lib/isEmbeddedWebview.mjs";const L=({connectOnly:m})=>{let{closePrivyModal:f,connectors:L}=c(),{app:W,onUserCloseViaDialogOrKeybindRef:O,data:F}=j(),{appearance:{palette:{colorScheme:P}}}=a(),{accountType:H,walletClientType:R,chainType:V}=h(),z=H?d(H):null,U=W.loginMethodsAndOrder?.primary??[],D=W.loginMethodsAndOrder?.overflow??[],K=[...U,...D],N=W.loginMethods.passkey,Q=F?.login,X=[];R&&K.includes(R)?X.push(R):H&&K.includes(z?.loginMethod)&&X.push(z?.loginMethod);let[Y,$]=r("default"),[q,G]=r(b({mostRecentlyUsedAccountType:H,smsAvailable:K.includes("sms"),emailAvailable:K.includes("email"),prefilledType:Q?.prefill?.type}));s((()=>{G(b({mostRecentlyUsedAccountType:H,smsAvailable:K.includes("sms"),emailAvailable:K.includes("email"),prefilledType:Q?.prefill?.type}))}),[K,H]),s((()=>{"phone"===H&&G("sms");let o=K.indexOf("sms"),t=K.indexOf("email");o>-1&&o<t&&G("sms")}),[H,U,D]);let J=()=>{f({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{$("default")}),150)};O.current=J;let Z=o=>"email"===o?/*#__PURE__*/e(v,{isEditable:"email"===q,setIsEditable:()=>{G("email")},defaultValue:"email"===Q?.prefill?.type?Q.prefill.value:void 0},o):"sms"===o?/*#__PURE__*/e(k,{isEditable:"sms"===q,setIsEditable:()=>{G("sms")},defaultValue:"phone"===Q?.prefill?.type?Q.prefill.value:void 0},o):"apple"===o?/*#__PURE__*/e(x,{provider:"apple"},o):"discord"===o?/*#__PURE__*/e(x,{provider:"discord"},o):"farcaster"===o?/*#__PURE__*/e(y,{},o):"github"===o?/*#__PURE__*/e(x,{provider:"github"},o):"google"===o?/*#__PURE__*/e(x,{provider:"google"},o):"linkedin"===o?/*#__PURE__*/e(x,{provider:"linkedin"},o):"spotify"===o?/*#__PURE__*/e(x,{provider:"spotify"},o):"instagram"===o?/*#__PURE__*/e(x,{provider:"instagram"},o):"tiktok"===o?/*#__PURE__*/e(x,{provider:"tiktok"},o):"twitter"===o?/*#__PURE__*/e(x,{provider:"twitter"},o):"telegram"===o?/*#__PURE__*/e(C,{},o):o.startsWith("privy:")?/*#__PURE__*/e(u,{appId:o.replace("privy:","")},o):A({walletList:W.appearance.walletList,walletChainType:W.appearance.walletChainType,connectors:L,connectOnly:m,ignore:K,walletConnectEnabled:W.externalWallets.walletConnect.enabled,forceWallet:{wallet:o,chainType:V??"ethereum"}}),_=X.flatMap(Z),oo=U.filter((o=>o!==R&&o!==z?.loginMethod)).flatMap(Z),to=D.filter((o=>o!==R&&o!==z?.loginMethod)).flatMap(Z),[eo,io]=g([..._,...oo,...to],S({primary:oo.length+_.length,overflow:to.length}));/*#__PURE__*/return o(t,{children:[/*#__PURE__*/e(l,{title:W.appearance.landingHeader,onClose:J,backFn:"default"===Y?void 0:()=>{$("default")}}),"default"===Y&&/*#__PURE__*/e(B,{}),"default"===Y&&("string"==typeof W.appearance.loginMessage?/*#__PURE__*/e(I,{children:W.appearance.loginMessage}):W.appearance.loginMessage),/*#__PURE__*/e(T,{style:{overflow:"hidden"},children:/*#__PURE__*/o(E,{$colorScheme:P,style:{maxHeight:400,overflowY:"scroll",padding:2},children:["default"===Y&&/*#__PURE__*/o(t,{children:[eo,io.length>0&&/*#__PURE__*/e(M,{text:"More options",icon:/*#__PURE__*/e(i,{}),onClick:()=>$("overflow")})]}),"overflow"===Y&&/*#__PURE__*/e(t,{children:io}),N&&"default"===Y&&/*#__PURE__*/e(w,{})]})}),W&&/*#__PURE__*/e(n,{app:W}),/*#__PURE__*/e(p,{})]})};let S=({primary:o,overflow:t})=>o<5?o:5===o&&0===t?5:4,B=/*#__PURE__*/m(f).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ba86c0ed-0"})(["margin-bottom:16px;"]);export{L as CustomLandingScreenView};

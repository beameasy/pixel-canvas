import{jsxs as o,jsx as n}from"react/jsx-runtime";import{ModalScreen as t}from"../index.mjs";import{isMobile as i}from"react-device-detect";import{styled as e}from"styled-components";import{InjectedWalletIcon as s}from"../../components/external-wallets/InjectedWalletIcon.mjs";import{Chip as c}from"../../components/ui/chips/Chip.mjs";import{isCoinbaseWalletInstalled as r}from"../../connectors/is-wallet-installed.mjs";import{getWalletConfigForConnector as m}from"../../connectors/mobile-wallets.mjs";import{usePrivyInternal as a}from"../../hooks/internal-context.mjs";import{usePrivyModal as l}from"../../hooks/modal-context.mjs";import{toLogo as p,toDisplayName as j}from"../../lib/external-wallets/displayHelpers.mjs";import h from"../../lib/isEmbeddedWebview.mjs";import{useRecentlyUsedLogin as d}from"../../recent-login/context.mjs";import{LoginMethodButton as y}from"./styles.mjs";import"@heroicons/react/24/outline/WalletIcon";import"../../components/ui/animation/LoadingSkeleton.mjs";import"../../connectors/get-legacy-injected-providers.mjs";import"../../svg/backpack.mjs";import"../../svg/okx-wallet.mjs";import"../../svg/phantom.mjs";import"../../svg/solflare.mjs";import"../../types.mjs";import"react";import"../../hooks/index.mjs";import"../../components/PrefetchedImage.mjs";import"../../configuration/context.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"../../svg/brave-browser-icon.mjs";import"../../svg/bybit.mjs";import"../../svg/coinbase-wallet.mjs";import"../../svg/cryptocom.mjs";import"../../svg/metamask.mjs";import"../../svg/rabby.mjs";import"../../svg/rainbow.mjs";import"../../svg/safe.mjs";import"../../svg/uniswap.mjs";import"../../svg/universal-profile.mjs";import"../../svg/wallet-connect.mjs";import"../../svg/zerion.mjs";import"../../hooks/events-context.mjs";import"../../storage.mjs";const g=({provider:e,displayName:c,logo:y,connectOnly:g,connector:C})=>{let{navigate:v,setModalData:N}=l(),{connectWallet:I}=a(),b=d(),u="wallet_connect_v2"===C.connectorType?e:C.walletClientType,x=window.matchMedia("(display-mode: standalone)").matches,O=m(C);/*#__PURE__*/return o(f,{onClick:O?()=>{O.isInstalled||"solana"===C.chainType&&"isInstalled"in C&&C.isInstalled?(I(C,u),v(g?t.AWAITING_CONNECT_ONLY_CONNECTION:t.AWAITING_CONNECTION)):i?(N({installWalletModalData:{walletConfig:O,chainType:C.chainType,connectOnly:g}}),v(t.WALLET_INTERSTITIAL_SCREEN)):(N({installWalletModalData:{walletConfig:O,chainType:C.chainType,connectOnly:g}}),v(t.INSTALL_WALLET_SCREEN))}:"coinbase_wallet"!==C.connectorType||"eoaOnly"!==C.connectionOptions||!i||x||r()?()=>{(!h(window.navigator.userAgent)||event?.isTrusted)&&(I(C,u),v(g?t.AWAITING_CONNECT_ONLY_CONNECTION:t.AWAITING_CONNECTION))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`},children:[/*#__PURE__*/n(s,{icon:p(e,C.connectorType,C.walletClientType)??y,name:C.walletClientType}),/*#__PURE__*/n("span",{children:j(e,C.connectorType,C.walletClientType)||c||C.walletClientType}),/*#__PURE__*/o(T,{id:"chip-container",children:[b?.walletClientType===u&&b?.chainType===C.chainType?/*#__PURE__*/n(w,{color:"gray",children:"Recent"}):/*#__PURE__*/n("span",{id:"connect-text",children:"Connect"}),"solana"===C.chainType&&/*#__PURE__*/n(w,{color:"gray",children:"Solana"})]})]})};let f=/*#__PURE__*/e(y).withConfig({displayName:"ConnectWalletButton",componentId:"sc-820f3381-0"})(["> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),w=/*#__PURE__*/e(c).withConfig({displayName:"StyledChip",componentId:"sc-820f3381-1"})(["margin-left:auto;"]),T=/*#__PURE__*/e.div.withConfig({displayName:"ChipContainer",componentId:"sc-820f3381-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);export{g as WalletButton};

import{jsx as o,jsxs as r,Fragment as e}from"react/jsx-runtime";import t from"qrcode";import i from"react";import{styled as n}from"styled-components";import{useAppConfig as c}from"../configuration/context.mjs";import{BlackRoundedSquare as s}from"../svg/black-rounded-square.mjs";import{convert1dTo2dArray as m,clamp as l}from"../utils/index.mjs";import"../config.mjs";import"../configuration/defaultClientConfig.mjs";import"../constants.mjs";import"../configuration/login-methods.mjs";import"../configuration/wallets.mjs";import"../connectors/chains/index.mjs";import"../connectors/chains/arbitrum.mjs";import"../connectors/chains/arbitrumSepolia.mjs";import"../connectors/chains/avalanche.mjs";import"../connectors/chains/avalancheFuji.mjs";import"../connectors/chains/base.mjs";import"../connectors/chains/baseSepolia.mjs";import"../connectors/chains/berachainArtio.mjs";import"../connectors/chains/celo.mjs";import"../connectors/chains/celoAlfajores.mjs";import"../connectors/chains/filecoin.mjs";import"../connectors/chains/filecoinCalibration.mjs";import"../connectors/chains/garnetHolesky.mjs";import"../connectors/chains/holesky.mjs";import"../connectors/chains/linea.mjs";import"../connectors/chains/lineaTestnet.mjs";import"../connectors/chains/lukso.mjs";import"../connectors/chains/mainnet.mjs";import"../connectors/chains/optimism.mjs";import"../connectors/chains/optimismSepolia.mjs";import"../connectors/chains/polygon.mjs";import"../connectors/chains/polygonAmoy.mjs";import"../connectors/chains/redstone.mjs";import"../connectors/chains/sepolia.mjs";import"../connectors/chains/zora.mjs";import"../connectors/chains/zoraSepolia.mjs";import"../connectors/chains/zoraTestnet.mjs";import"../connectors/chains/utils.mjs";import"../lib/solana/index.mjs";import"../theme.mjs";import"tinycolor2";import"../lib/cybr53.mjs";import"../connectors/get-legacy-injected-providers.mjs";import"../connectors/is-wallet-installed.mjs";import"../errors.mjs";import"ofetch";import"../utils/eth/getPublicClient.mjs";import"viem";let a=(o,r,e,t,i)=>{for(let n=r;n<r+t;n++)for(let r=e;r<e+i;r++){let e=o?.[r];e&&e[n]&&(e[n]=0)}return o},p=(o,r)=>{let e=t.create(o,{errorCorrectionLevel:r}).modules,i=m(Array.from(e.data),e.size);return i=a(i,0,0,7,7),i=a(i,i.length-7,0,7,7),a(i,0,i.length-7,7,7)},h=({x:r,y:t,cellSize:i,bgColor:n,fgColor:c})=>
/*#__PURE__*/o(e,{children:[0,1,2].map((e=>/*#__PURE__*/o("circle",{r:i*(7-2*e)/2,cx:r+7*i/2,cy:t+7*i/2,fill:e%2!=0?n:c},`finder-${r}-${t}-${e}`)))}),g=({cellSize:r,matrixSize:t,bgColor:i,fgColor:n})=>/*#__PURE__*/o(e,{children:[[0,0],[(t-7)*r,0],[0,(t-7)*r]].map((([e,t])=>/*#__PURE__*/o(h,{x:e,y:t,cellSize:r,bgColor:i,fgColor:n},`finder-${e}-${t}`)))}),j=({matrix:r,cellSize:t,color:n})=>/*#__PURE__*/o(e,{children:r.map(((r,e)=>r.map(((r,c)=>r?/*#__PURE__*/o("rect",{height:t-.4,width:t-.4,x:e*t+.1*t,y:c*t+.1*t,rx:.5*t,ry:.5*t,fill:n},`cell-${e}-${c}`):/*#__PURE__*/o(i.Fragment,{},`circle-${e}-${c}`)))))}),d=({cellSize:t,matrixSize:i,element:n,sizePercentage:c,bgColor:s})=>{if(!n)/*#__PURE__*/return o(e,{});let m=i*(c||.14),l=Math.floor(i/2-m/2),a=Math.floor(i/2+m/2);(a-l)%2!=i%2&&(a+=1);let p=(a-l)*t,h=p-.2*p,g=l*t;/*#__PURE__*/return r(e,{children:[/*#__PURE__*/o("rect",{x:l*t,y:l*t,width:p,height:p,fill:s}),/*#__PURE__*/o(n,{x:g+.1*p,y:g+.1*p,height:h,width:h})]})},u=e=>{let t=e.outputSize,i=p(e.url,e.errorCorrectionLevel),n=t/i.length,c=l(2*n,{min:.025*t,max:.036*t});/*#__PURE__*/return r("svg",{height:e.outputSize,width:e.outputSize,viewBox:`0 0 ${e.outputSize} ${e.outputSize}`,style:{height:"100%",width:"100%",padding:`${c}px`},children:[/*#__PURE__*/o(j,{matrix:i,cellSize:n,color:e.fgColor}),/*#__PURE__*/o(g,{cellSize:n,matrixSize:i.length,fgColor:e.fgColor,bgColor:e.bgColor}),/*#__PURE__*/o(d,{cellSize:n,element:e.logo?.element,bgColor:e.bgColor,matrixSize:i.length})]})},f=/*#__PURE__*/n.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(o=>`${o.$size}px`),(o=>`${o.$size}px`),(o=>o.$bgColor),(o=>o.$borderColor));const C=r=>{let{appearance:e}=c(),t=r.bgColor||"#FFFFFF",i=r.fgColor||"#000000",n=r.size||160,m="dark"===e.palette.colorScheme?t:i;/*#__PURE__*/return o(f,{$size:n,$bgColor:t,$fgColor:i,$borderColor:m,children:/*#__PURE__*/o(u,{url:r.url,logo:{element:r.squareLogoElement??s},outputSize:n,bgColor:t,fgColor:i,errorCorrectionLevel:r.errorCorrectionLevel||"Q"})})};export{C as QrCode};

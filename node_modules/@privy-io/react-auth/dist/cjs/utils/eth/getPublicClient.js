"use strict";var r=require("viem"),e=require("../../errors.js");require("ofetch");const t=(r,t,p)=>{let i,l=r.id,s=Number(r.id);if(r.rpcUrls.privyWalletOverride&&r.rpcUrls.privyWalletOverride.http[0])i=r.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[s])i=t.rpcUrls[s];else if(r.rpcUrls.privy?.http[0]){let e=new URL(r.rpcUrls.privy.http[0]);e.searchParams.append("privyAppId",p),i=e.toString()}else i=r.rpcUrls.public?.http[0]?r.rpcUrls.public.http[0]:r.rpcUrls.default?.http[0];if(!i)throw new e.PrivyConnectorError(`No RPC url found for ${l}`);return i};exports.getJsonRpcEndpointFromChain=t,exports.getPublicClient=(p,i,l,s)=>{let c=Number(p),n=i.find((r=>r.id===c));if(!n)throw new e.PrivyConnectorError(`Unsupported chainId ${p}`,4901);return r.createPublicClient({transport:r.http(t(n,l,s.appId)),chain:n})};

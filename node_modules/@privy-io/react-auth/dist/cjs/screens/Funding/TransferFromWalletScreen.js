"use strict";var e=require("react/jsx-runtime"),r=require("react"),n=require("../../components/ModalFooter.js"),s=require("../../components/ModalHeader.js"),o=require("../../components/ScreenHeader.js"),i=require("../../components/embedded-wallets/FundWalletMethodHeader.js"),t=require("../../components/ui/chips/Chip.js"),a=require("../../components/ui/typography/Subtitle.js"),l=require("../../hooks/internal-context.js"),c=require("../../hooks/modal-context.js"),u=require("../../hooks/useWallets.js"),h=require("../LandingScreen/WalletOverflowButton.js"),d=require("../index.js"),j=require("../LandingScreen/WalletButtonList.js"),q=require("../LandingScreen/styles.js"),p=require("./styles.js"),g=require("../../hooks/solana/useSolanaWallets.js");require("styled-components"),require("../../configuration/context.js"),require("../../config.js"),require("../../configuration/defaultClientConfig.js"),require("../../constants.js"),require("../../configuration/login-methods.js"),require("../../configuration/wallets.js"),require("../../connectors/chains/index.js"),require("../../connectors/chains/arbitrum.js"),require("../../connectors/chains/arbitrumSepolia.js"),require("../../connectors/chains/avalanche.js"),require("../../connectors/chains/avalancheFuji.js"),require("../../connectors/chains/base.js"),require("../../connectors/chains/baseSepolia.js"),require("../../connectors/chains/berachainArtio.js"),require("../../connectors/chains/celo.js"),require("../../connectors/chains/celoAlfajores.js"),require("../../connectors/chains/filecoin.js"),require("../../connectors/chains/filecoinCalibration.js"),require("../../connectors/chains/garnetHolesky.js"),require("../../connectors/chains/holesky.js"),require("../../connectors/chains/linea.js"),require("../../connectors/chains/lineaTestnet.js"),require("../../connectors/chains/lukso.js"),require("../../connectors/chains/mainnet.js"),require("../../connectors/chains/optimism.js"),require("../../connectors/chains/optimismSepolia.js"),require("../../connectors/chains/polygon.js"),require("../../connectors/chains/polygonAmoy.js"),require("../../connectors/chains/redstone.js"),require("../../connectors/chains/sepolia.js"),require("../../connectors/chains/zora.js"),require("../../connectors/chains/zoraSepolia.js"),require("../../connectors/chains/zoraTestnet.js"),require("../../connectors/chains/utils.js"),require("../../lib/solana/index.js"),require("../../theme.js"),require("tinycolor2"),require("../../lib/cybr53.js"),require("../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../hooks/index.js"),require("../../components/ui/animation/LoadingSkeleton.js"),require("../../components/PrefetchedImage.js"),require("@heroicons/react/24/outline/ChevronRightIcon"),require("@heroicons/react/24/outline/WalletIcon"),require("../LandingScreen/EmptyWalletView.js"),require("../LandingScreen/WalletButton.js"),require("react-device-detect"),require("../../components/external-wallets/InjectedWalletIcon.js"),require("../../connectors/is-wallet-installed.js"),require("../../connectors/get-legacy-injected-providers.js"),require("../../connectors/mobile-wallets.js"),require("../../svg/backpack.js"),require("../../svg/okx-wallet.js"),require("../../svg/phantom.js"),require("../../svg/solflare.js"),require("../../types.js"),require("../../lib/external-wallets/displayHelpers.js"),require("../../svg/brave-browser-icon.js"),require("../../svg/bybit.js"),require("../../svg/coinbase-wallet.js"),require("../../svg/cryptocom.js"),require("../../svg/metamask.js"),require("../../svg/rabby.js"),require("../../svg/rainbow.js"),require("../../svg/safe.js"),require("../../svg/uniswap.js"),require("../../svg/universal-profile.js"),require("../../svg/wallet-connect.js"),require("../../svg/zerion.js"),require("../../lib/isEmbeddedWebview.js"),require("../../recent-login/context.js"),require("../../hooks/events-context.js"),require("../../storage.js"),require("../../components/Button.js"),require("../../components/Loader.js"),require("../LinkPasskeyScreen.js"),require("@heroicons/react/24/outline/CheckCircleIcon"),require("@heroicons/react/24/outline/ClockIcon"),require("@heroicons/react/24/outline/TrashIcon"),require("@heroicons/react/24/solid/CheckBadgeIcon"),require("@heroicons/react/24/solid/LockClosedIcon"),require("../../errors.js"),require("ofetch"),require("../../hooks/privy-context.js"),require("../../svg/face-id.js"),require("../../svg/fingerprint.js"),require("../MfaScreens/StyledComponents.js");let m=({onClick:r,icon:n,name:s,chainType:o})=>/*#__PURE__*/e.jsxs(q.LoginMethodButton,{onClick:r,children:[/*#__PURE__*/e.jsx(p.IconContainer,{style:{width:20},children:/*#__PURE__*/e.jsx("img",{src:n})}),s,/*#__PURE__*/e.jsx(t.Chip,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),"solana"===o&&/*#__PURE__*/e.jsx(t.Chip,{color:"gray",children:"Solana"})]});exports.TransferFromWalletScreen=()=>{let t,{connectors:p}=l.usePrivyInternal(),{app:y,setModalData:C,data:f,navigate:w}=c.usePrivyModal(),{wallets:T}=u.useWallets(),{wallets:v}=g.useSolanaWallets(),[S,x]=r.useState("default"),I="solana"===f?.funding?.chainType,b=!!f?.funding?.crossChainBridgingEnabled;t="ethereum"===f?.funding?.chainType?f.funding.erc20Address&&!f.funding.isUSDC?"ethereum-only":b&&!f.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":b?"ethereum-and-solana":"solana-only";let N=T.filter((e=>"privy"!==e.walletClientType)),E=N.map((e=>e.walletClientType)),_=v.filter((e=>"privy"!==e.walletClientType)),k=_.map((e=>e.walletClientType)),M=[],W={...f.funding};W.usingDefaultFundingMethod&&(W.usingDefaultFundingMethod=!1);let L=({address:e,walletChainType:r})=>{C({...f,funding:{...W,connectedWalletAddress:e,onContinueWithExternalWallet:()=>w(F({destChainType:I?"solana":"ethereum",sourceChainType:r}))}}),w(d.ModalScreen.FUNDING_EDIT_AMOUNT_SCREEN)};"solana-only"!==t&&M.push(...N.map(((r,n)=>/*#__PURE__*/e.jsx(m,{onClick:()=>L({address:r.address,walletChainType:"ethereum"}),icon:r.meta.icon,name:r.meta.name,chainType:r.type},n)))),"ethereum-only"!==t&&M.push(..._.map(((r,n)=>/*#__PURE__*/e.jsx(m,{onClick:()=>L({address:r.address,walletChainType:"solana"}),icon:r.meta.icon,name:r.meta.name,chainType:r.type},n)))),M.push(...j.toWalletButtons({walletList:y.appearance.walletList.filter((e=>!N.some((r=>r.walletClientType===e))&&!_.some((r=>r.walletClientType===e)))),walletChainType:t,connectors:p,connectOnly:!0,ignore:[...y.appearance.walletList,...E,...k],walletConnectEnabled:y.externalWallets.walletConnect.enabled}));let A=/*#__PURE__*/e.jsx(h.WalletOverflowButton,{text:"More wallets",onClick:()=>x("overflow")}),F=({sourceChainType:e,destChainType:r})=>"ethereum"===e&&"solana"===r?d.ModalScreen.FUNDING_AWAITING_EVM_TO_SOL_BRIDGING_SCREEN:"ethereum"===e&&"ethereum"===r?d.ModalScreen.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_WALLET_SCREEN:"solana"===e&&"ethereum"===r?d.ModalScreen.FUNDING_AWAITING_SOL_TO_EVM_BRIDGING_SCREEN:d.ModalScreen.FUNDING_AWAITING_TRANSFER_FROM_EXTERNAL_SOLANA_WALLET_SCREEN;return r.useEffect((()=>{C({...f,externalConnectWallet:{onCompleteNavigateTo:({walletChainType:e})=>(C({...f,funding:{...W,onContinueWithExternalWallet:()=>{w(F({destChainType:I?"solana":"ethereum",sourceChainType:e??"ethereum"}))}}}),d.ModalScreen.FUNDING_EDIT_AMOUNT_SCREEN)}})}),[]),"overflow"===S?/*#__PURE__*/e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(s.ModalHeader,{backFn:()=>x("default")},"header"),/*#__PURE__*/e.jsxs(q.LoginMethodContainer,{children:[/*#__PURE__*/e.jsx(a.Subtitle,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),M]}),/*#__PURE__*/e.jsx(n.BlobbyFooter,{})]}):/*#__PURE__*/e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(i.default,{}),/*#__PURE__*/e.jsx(o.CenteredScreenHeader,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),/*#__PURE__*/e.jsxs(q.LoginMethodContainer,{children:[M.length>4?M.slice(0,3):M,M.length>4&&A]}),/*#__PURE__*/e.jsx(n.BlobbyFooter,{})]})};

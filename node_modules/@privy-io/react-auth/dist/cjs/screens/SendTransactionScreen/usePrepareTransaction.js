"use strict";var e=require("react"),r=require("../../hooks/internal-context.js"),t=require("../../hooks/privy-context.js"),s=require("../../lib/viem/prepareTransactionRequest.js");require("../../hooks/index.js"),require("../../lib/viem/toViemTransactionSerializable.js"),require("viem"),require("../../errors.js"),require("ofetch");exports.usePrepareTransaction=(i,a,n)=>{let[u,o]=e.useState(null),{getAccessToken:l}=t.usePrivyContext(),{walletProxy:c}=r.usePrivyInternal();return e.useEffect((()=>{u&&o(null),(async()=>{if(!await l()||!c||!a)return null;let e=[],r=!0,t=await s.prepareTransactionRequest(i,n,a.address).catch((t=>(t.details.includes("insufficient funds")?r=!1:e.push(t),i)));return{tx:t,totalGasEstimate:t.gas,hasFunds:r,errors:e}})().then(o)}),[i]),u};

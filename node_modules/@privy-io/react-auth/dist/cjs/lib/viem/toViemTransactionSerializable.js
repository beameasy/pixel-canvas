"use strict";var e=require("viem"),r=require("../../errors.js");require("ofetch");let a={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844"};let i=e=>void 0!==e?BigInt(e):void 0;exports.STRING_TO_NUMBER_TXN_TYPE={legacy:0,eip2930:1,eip1559:2,eip4844:3},exports.toViemTransactionSerializable=function(s){let t,{type:c=2,...o}=s;o.accessList&&Array.isArray(o.accessList)?t=o.accessList.map((e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e)):o.accessList&&(t=Object.entries(o.accessList).map((e=>({address:e[0],storageKeys:e[1]}))));let n=Number(o.chainId??1),d=e.isHex(o.data)?o.data:o.data?e.toHex(Uint8Array.from(o.data)):void 0,P=o.nonce?Number(o.nonce):void 0,y={chainId:n,data:d,nonce:P,value:i(o.value),gas:i(o.gas??o.gasLimit)},m=Number(c);if(0===m)return{...o,type:a[m],...y,gasPrice:i(o.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===m)return{...o,type:a[m],...y,gasPrice:i(o.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===m)return{...o,type:a[m],...y,nonce:P,accessList:t,maxFeePerGas:i(o.maxFeePerGas),maxPriorityFeePerGas:i(o.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw new r.PrivyClientError(`Unsupported transaction type: ${c}`)};
